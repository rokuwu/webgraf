<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feladat 1</title>
    <style>
        input[type="text"]{
            display: inline-block;
        }
        #settings{
            margin-bottom: 15px;
            padding: 8px 10px;
            background-color: #e0e8f1;
        }
    </style>
</head>
<body onload="init()">
    <div id="settings">
        <p>Függvény paraméterek:</p>
        <span>a:</span><input type="text" name="a" id="a">
        <span>b:</span><input type="text" name="b" id="b">
        <span>c:</span><input type="text" name="c" id="c">

        <p>Értéktartomány:</p>
        <span>x:</span><select name="" id="">
            <option value="10">10</option>
            <option value="20">20</option>
            <option value="30">30</option>
            <option value="40">40</option>
            <option value="50">50</option>
            <option value="60">60</option>
            <option value="70">70</option>
            <option value="80">80</option>
            <option value="90">90</option>
            <option selected="selected" value="100">100</option>
        </select>
        <span>y:</span><select name="" id="">
            <option value="10">10</option>
            <option value="20">20</option>
            <option value="30">30</option>
            <option value="40">40</option>
            <option value="50">50</option>
            <option value="60">60</option>
            <option value="70">70</option>
            <option value="80">80</option>
            <option value="90">90</option>
            <option selected="selected" value="100">100</option>
        </select>

        <p>Rácsvonal:</p>
        <input type="checkbox" name="grid" id="grid">
    </div>

    <canvas id="canvas" width=2000 height=2000"></canvas>

    <script>
        const aInp=document.getElementById("a");
        const bInp=document.getElementById("b");
        const cInp=document.getElementById("c");
        const xInp=document.getElementById("x");
        const yInp=document.getElementById("y");
        const gInp=document.getElementById("grid");
        const canvas=document.getElementById("canvas");
        const ctx=canvas.getContext("2d");
        const scale=10; //alap 100 helyett 1000-re nagyítva a láthatóság miatt

        /*
            másodfokú függvény: a*(x-b)^2+c

            a, b, c állítható -> 3 input box
            tizesével állítható értéktartomány
            ki/be kapcsolható rácsvonal
        */

        gInp.addEventListener("change",function(){
            if(gInp.checked){
                clear();
                grid();
                init();
            }
            else{
                clear();
                init();
            }
        });

        function init(){
            ctx.strokeStyle = "black"
            ctx.lineWidth = 2;
            //x tengely
            ctx.beginPath(); //tengely
            ctx.moveTo(0,100*scale);
            ctx.lineTo(200*scale,100*scale);
            ctx.stroke();
            ctx.beginPath(); //nyíl felső szár
            ctx.moveTo(200*scale,100*scale);
            ctx.lineTo(198*scale,98*scale);
            ctx.stroke();
            ctx.beginPath(); //nyíl alsó szár
            ctx.moveTo(200*scale,100*scale);
            ctx.lineTo(198*scale,102*scale);
            ctx.stroke();

            //y tengely
            ctx.beginPath(); //tengely
            ctx.moveTo(100*scale,0);
            ctx.lineTo(100*scale,200*scale);
            ctx.stroke();
            ctx.beginPath(); //nyíl bal szár
            ctx.moveTo(100*scale,0);
            ctx.lineTo(98*scale,2*scale);
            ctx.stroke();
            ctx.beginPath(); //nyíl jobb szár
            ctx.moveTo(100*scale,0);
            ctx.lineTo(102*scale,2*scale);
            ctx.stroke();

            labels(); //feliratok a tengelyek mentén
        }

        function grid(){
            let posY=0;
            let posX=0;
            ctx.lineWidth=0.5;
            while(posY<=200*scale){
                ctx.beginPath(); // y
                ctx.moveTo(posY,0);
                ctx.lineTo(posY,200*scale);
                ctx.stroke();

                posY+=10*scale;
            }
            while(posX<=200*scale){
                ctx.beginPath(); // x
                ctx.moveTo(0,posX);
                ctx.lineTo(200*scale,posX);
                ctx.stroke();

                posX+=10*scale;
            }
        }

        function clear(){
            ctx.clearRect(0,0,200*scale,200*scale);
        }

        function labels(){
            let posX=0;
            let posY=0;
            ctx.translate(100*scale,100*scale);
            while(posX<=100*scale){
                ctx.fillText(`${posX/scale}`,posX,0);
                
                posX+=10*scale;
            }
            while(posY>=(-100)*scale){
                ctx.fillText(`${posY/-scale}`,0,posY);
                
                posY-=10*scale;
            }
            posX=0;
            posY=0;
            while(posY<=(100)*scale){
                if(posY!=0){ctx.fillText(`-${posY/scale}`,0,posY);}
                                
                posY+=10*scale;
            }
            while(posX>=-100*scale){
                if(posX!=0){ctx.fillText(`${posX/scale}`,posX,0);}
                                
                posX-=10*scale;
            }
            ctx.translate(-100*scale,-100*scale);
        }

        draw();
        function draw(){

        }
    </script>
</body>
</html>